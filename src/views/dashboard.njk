{% extends "base.njk" %}

{% block content %}
<div class="container">
	<p class="display-4">Dashboard</p>
	<a href="/" class="btn btn-warning mb-2">Back</a>

	<div class="row">
		<div class="col-8">
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text">IP</span>
				</div>
				<input type="text" class="form-control" placeholder="" value="{{ ip_address }}" disabled>
				<div class="input-group-append">
					<span class="input-group-text bg-dark"><i class="far fa-edit text-white"></i></span>
				</div>
			</div>
		</div>
		<div class="col-4">
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text">CIDR</span>
				</div>
				<input type="text" class="form-control" placeholder="{{ cidr }}" disabled>
				<div class="input-group-append">
					<span class="input-group-text bg-dark"><i class="far fa-edit text-white"></i></span>
				</div>
			</div>
		</div>

		<div class="col-8">
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text">Private Key</span>
				</div>
				<input type="text" class="form-control" placeholder="{{ private_key }}" disabled>
				<div class="input-group-append">
					<span class="input-group-text bg-dark"><i class="far fa-edit text-white"></i></span>
				</div>
			</div>
		</div>
		<div class="col-4">
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text">Port</span>
				</div>
				<input type="text" class="form-control" placeholder="{{ port }}" disabled>
				<div class="input-group-append">
					<span class="input-group-text bg-dark"><i class="far fa-edit text-white"></i></span>
				</div>
			</div>
		</div>

		<div class="col-12">
			<div class="input-group mb-3">
				<div class="input-group-prepend">
					<span class="input-group-text">Network Adapter</span>
				</div>
				<input type="text" class="form-control" placeholder="{{ network_adapter }}" disabled>
				<div class="input-group-append" class="editBtn">
					<span class="input-group-text bg-dark"><i class="far fa-edit text-white"></i></span>
				</div>
			</div>
		</div>

		<div class="text-right w-100 px-3">
			<button class="btn btn-success w-25">
				SAVE
			</button>
		</div>

		<hr class="w-100">

		<div class="col-12 mb-2 h3">Peers</div>

		<table class="table">
			<thead class="thead-dark">
				<tr class="text-center">
					<th scope="col">config</th>
					<th scope="col">active</th>
					<th scope="col">device</th>
					<th scope="col">public key</th>
					<th scope="col">allowed ips</th>
					<th scope="col">edit</th>
				</tr>
			</thead>

			<tbody id="peers">
				{% for client in clients %}
				<tr class="text-center p-2" id="{{ client.id }}">
					<td><div class="btn btn-success"><i class="fa fa-download"></i></div></td>
					<td scope="row">
						{% if client.active %}
						<button class="btn btn-success w-100">
							<i class="fas fa-check"></i>
						</button>
						{% else %}
						<button class="btn btn-danger w-100">
							<i class="fas fa-times"></i>
						</button>
						{% endif %}
					</td>
					<td><input class="btn w-100 border-dark" name="device" value="{{ client.device }}" disabled></input></td>
					<td><input class="btn w-100 border-dark" name="public_key" value="{{ client.public_key }}" disabled></input></td>
					<td><input class="btn w-100 border-dark" name="allowed_ips" value="{{ client.allowed_ips }}" disabled></input></td>
					<td>
						<button class="btn btn-dark w-100 editBtn">
							<i class="far fa-edit"></i>
						</button>
					</td>
				</tr>
				{% endfor %}
			</tbody>
			<tr class="p-2">
				<th class="text-center" colspan="6">
					<button class="btn btn-success" onclick="createNewPeer()">
						<i class="fa fa-user-plus"></i> Add Peer
					</button>
				</th>
			</tr>
		</table>
	</div>
</div>
{% endblock %}
